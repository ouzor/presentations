---
title: "Probabilistic programming for understanding regional trends in apartment prices"
author:
  name: 'Juuso Parkkinen, @ouzor, data scientist at #reaktor'
date: 'International Conference on Computational Social Science, 11 Jun 2015, #iccss'
output:
  ioslides_presentation:
    css: custom.css
    standalone: yes
---

## (Big) Data is complicated

<div class="columns-2">

* More data means more complexity
* Dependencies and hierarchies between data points
* Noise and missing data
* Observational data (lacks controls)
* Conclusions based on raw data can be misleading or plain wrong

<center>
<img src="/Users/ouzor/Documents/workspace/reaktor/Neliohinnat/figs/raw-only-en.png" alt="raw data" style="height: 500px;"/>
</center>

</div>


## Probabilistic modeling helps

* Making interesting and reliable findings possible
* Handling missing data, uncertainty and dependencies
* Combining multiple data sources

<center>
<img src="/Users/ouzor/Documents/workspace/reaktor/Neliohinnat/figs/raw-vs-model-en.png" alt="raw data" style="height: 350px;"/>
</center>


## Results

Including population density to the model reveals general urbanisation patterns

<center>
<img src="/Users/ouzor/Documents/workspace/reaktor/Neliohinnat/figs/trend-population-2015.png" alt="raw data" style="height: 400px;"/>
</center>

## Probabilistic programming

* Shift from model-specific packages to flexible tools
* Rapid iterative model development
* Towards big data applications with efficient approximative solutions
* [STAN](http://mc-stan.org/index.html) for full Bayesian statistical inference


```{r, eval=FALSE}
model {
    LOmega1 ~ lkj_corr_cholesky(2); tau1 ~ lognormal(-2., 1.);    
    mean_beta ~ normal(0, 5);
    for (i in 1:M1) beta1[i] ~ multi_normal_cholesky(zero_beta, LSigma_beta1);
    for (i in 1:N) {
           obs_mean[i] <- x * (mean_beta + beta2[l2[i]] + beta1[l1[i]]); 
           obs_sigma[i] <- sqrt(ysigma^2 + sigma^2/count[i]); }
    sigma ~ normal(0, 2);
    ysigma ~ normal(0, 2);
    df ~ normal(0, 20);
    lprice ~ student_t(df+1, obs_mean, obs_sigma);
    }
```


## Conclusions

Big data needs big modelling

Modelling tools help in tackling complex problems

<br>

<div class="columns-2">

<article class="smaller">
See more at

* [Reaktor Data Science](http://reaktor.com/datascience)
* [Kannattaakokauppa.fi](http://kannattaakokauppa.fi/) and  
[source code](https://github.com/reaktor/Neliohinnat)
* FIXME: English versions out yet?
* FIXME: push figures to github and link to them
</article>

<center>
<img src="reaktor_venndiagram_logo.png" alt="use cases" style="width: 100%;"/>
</center>

</div>




